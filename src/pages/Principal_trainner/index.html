<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link rel="stylesheet" href="styles.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.4/font/bootstrap-icons.css"
  />

  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/css/bootstrap.min.css"
    rel="stylesheet"
    integrity="sha384-aFq/bzH65dt+w6FI2ooMVUpc+21e0SRygnTpmBvdBgSdnuTN7QbdgL+OapgHtvPp"
    crossorigin="anonymous"
/>


  <title>Fit Tracker</title>

  <!-- Link Css -->

  <link rel="stylesheet" href="../../DefaultLayout.css">
  <!-- Link Css Global -->
  <link rel="stylesheet" href="../../styles/global.css" />
</head>
<header>
  <div class="item_header">
    <img src="../../assets/logo.svg" alt="Logo" />
    <p style="color:white; margin-left: 15px;">Código do professor: <span id="cod_prof"></span></p>
  </div>
  <div class="item_header" id="boas_vindas">
    <h2 id="header_treinador"></h2>

  </div>
  <div class="item_header" id="duvidas_conta_logout">
    <a href="../login/index.html"> Sair</a>
  </div>
</header>
<body>

  <main class="container-fluid" style="background-color: #ffffff; height: 65vh; padding: 0">
    <div class="row" style="height: 100%;">
      <div
        style="background-color: #f2f2f2; padding-left: 15px; overflow-y: auto;"
        class="col-lg-3"
      id = "alunos_professor">
      </div>
      
      <div style="background-color: #dddddd; padding-top: 55px; overflow-x: auto;" class="col-lg-9">
        <h3 style="text-align: center; padding-left: 144px;">
          <b>Retorno e informações da semana</b>
        </h3>
        <div style="text-align:center;">
          <div class="table-responsive">
            <table class="table">
              <thead>
                <tr>
                  <th scope="col" style="color: #039d3a; font-size: 23px; padding-top: 40px;">Aluno</th>
                  <th scope="col" style="color: #039d3a; font-size: 23px;">Tipo Informação</th>
                  <th scope="col" style="color: #039d3a; font-size: 23px;">Status</th>
                </tr>
              </thead>
              <tbody id="body_table">
              </tbody>
            </table>
          </div>
        </div>  

      </div>
    </div>
  </main>
  <footer>
    <div class="information_footer">
      <p><b>Sobre nós</b></p>
      <a href="../QuemSomosPage/index.html">Quem somos?</a>
    </div>
    <div class="information_footer">
      <p><b>Contatos</b></p>
      <a>fittracker@gmail.com</a>
      <a>(31)99145-6032</a>
    </div>
    <div id="div_redes_sociais">
      <p><b>Nossas redes sociais</b></p>
      <a href="https://www.facebook.com/"><i class="bi bi-facebook"></i> </a>
      <a href="https://www.twitter.com/"><i class="bi bi-twitter"></i> </a>
      <a href="https://www.instagram.com/"
        ><i class="bi bi-instagram"></i>
      </a>
    </div>
  </footer>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
  <script src="jquery-3.6.4.min.js"></script>
  <script src="../Dúvidas_Aluno/script.js"></script>
  <script>
    const urlParams = new URLSearchParams(window.location.search);
    const id = urlParams.get("id");

    $(document).ready(function(){
      alunos_professor();
      // monta_tabela_principal_trainner();
    })

    function alunos_professor(){
        $.ajax({
            method: "GET",
            url: `http://localhost:3000/usuarios`,
            success:function(data){
              var valores_position = [];
              data.forEach(value => {
                  if(value.codigo_treinador != null && value.codigo_treinador == id){
                    valores_position.push(value);
                  }
                  if(value.codigo_treinador == null && value.id == id){
                    $("#header_treinador").html("Seja bem vindo, Treinador(a) "+value.nome);
                    $("#cod_prof").html(value.id);
                  }
              });
              console.log(valores_position);
              
              var html_alunos_professor = "<h3 style='margin-top: 60px; padding-left: 10%;'><p2><b>Alunos</b></p2></h3>";
                valores_position.forEach(value => {
                html_alunos_professor += `<a href="../treino_dieta_professor/index.html?`+value.id+`">
                                              <h4 class="text-bold" style=" padding-top: 5%; padding-left: 10%;"><p1>`+value.nome+`</p1></h4>
                                          </a>`;
              });
              
            $("#alunos_professor").html(html_alunos_professor);
            return true;
            },
            error:function (xhr, status, error){
              alert("Erro ao conectar com o servidor. Por favor tente novamente mais tarde.");
              console.log(xhr, status, error);
            }
        });
    }
    
    // function monta_tabela_principal_trainner(){
    //     $.ajax({
    //         method: "GET",
    //         url: `http://localhost:3000/tipo_informacao`,
    //         success:function(data){            
    //          var html_tabela_principal = "";
    //           data.forEach(value => {
    //               html_tabela_principal = `<tr>
    //                                           <td>
    //                                             <h5 class="text-bold">`+value.nome+`</h5>
    //                                           </td>
    //                                           <td>
    //                                             <a href="../`+(value.TP_INFORMAÇAO == 1 ? "Retorno_Dúvidas" : "retorno_feedback")+`/index.html"><h5 class="text-bold">`+(value.TP_INFORMAÇAO == 1 ? "Dúvidas" : "Feedback")+`</h5></a>
    //                                           </td>
    //                                           <td>
    //                                             <h5 class="text-bold" style="color: #54cf80">`+value.status+`</h5>
    //                                           </td>
    //                                       </tr>`;
    //           });
              
    //         $("#body_table").html(html_tabela_principal);
    //         },
    //         error:function (xhr, status, error){
    //           alert("Erro ao conectar com o servidor. Por favor tente novamente mais tarde.");
    //           console.log(xhr, status, error);
    //         }
    //     });
    // }
</script>
  <script src="./script.js" type="module"></script>
</body>
</html>
<style>
  .scroll-horizontal {
    overflow-x: auto;
    white-space: nowrap;
  }

  .scroll-horizontal::-webkit-scrollbar {
    height: 8px;
  }

  .scroll-horizontal::-webkit-scrollbar-thumb {
    background-color: #888;
    border-radius: 4px;
  }

  .scroll-horizontal::-webkit-scrollbar-thumb:hover {
    background-color: #555;
  }

  .scroll-horizontal::-webkit-scrollbar-track {
    background-color: #f2f2f2;
  }

  @media (max-width: 600px) {
      
  }
